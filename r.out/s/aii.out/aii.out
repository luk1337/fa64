#!/bin/sh
### FDE.AI v4 | FeraVolt. 2019 ###
. /fde.ai/s/libfde.so;
if [ ! -e /data/ai.dat ];then $B touch /data/ai.dat;elif [ -e /data/ai.dat ];then if [ -n "$RUS" ];then flog "~ ИИ: Загрузка данных машинного обучения..";else flog "~ AI: Loading machine learned data..";fi;fi;$B chmod 666 /data/ai.dat;while true;do miui=$($B pidof com.miui.home);launcher=$($B ps|$B grep -E "launcher"|$B awk '{print $1}'|$B sed -n 1p);launcherdot=$($B ps|$B grep -E "launcher"|$B grep -E "com"|$B awk '{print $1}'|$B sed -n 1p);lawnchair=$($B ps|$B grep -E "lawnchair"|$B awk '{print $1}'|$B sed -n 1p);home=$($B ps|$B grep -E "home"|$B awk '{print $1}'|$B sed -n 1p);watchapp=$($B ps|$B grep -E "watchapp"|$B awk '{print $1}'|$B sed -n 1p);trebuchet=$($B ps|$B grep -E "trebuchet"|$B awk '{print $1}'|$B sed -n 1p);dialer=$($B ps|$B grep -E "dialer"|$B awk '{print $1}'|$B sed -n 1p);keyboard=$($B ps|$B grep -E "keyboard"|$B awk '{print $1}'|$B sed -n 1p);inputmethod=$($B ps|$B grep -E "inputmethod"|$B awk '{print $1}'|$B sed -n 1p);fluid=$($B ps|$B grep -E "fluid"|$B awk '{print $1}'|$B sed -n 1p);composer=$($B ps|$B grep -E "composer"|$B awk '{print $1}'|$B sed -n 1p);phone=$($B pidof com.android.phone);settings=$($B pidof com.android.settings);netd=$($B pidof netd);netmgrd=$($B pidof netmgrd);surfaceflinger=$($B pidof surfaceflinger);swapd=$($B pidof kswapd0);ksmd=$($B pidof ksmd);msmirq=$($B pidof msm_irqbalance);rild=$($B pidof rild);qril=$($B pidof qcrild);mtkril=$($B pidof mtkrild);kgsl=$($B ps|$B grep -E "kgsl_worker"|$B awk '{print $1}'|$B sed -n 1p);sui=$($B pidof com.android.systemui);server=$($B pidof system_server);$B renice -13 "$miui";$B renice -13 "$launcher";$B renice -13 "$launcherdot";$B renice -13 "$lawnchair";$B renice -13 "$home";$B renice -13 "$watchapp";$B renice -13 "$trebuchet";$B renice -11 "$dialer";$B renice -11 "$keyboard";$B renice -11 "$inputmethod";$B renice -15 "$fluid";$B renice -18 "$composer";$B renice -11 "$phone";$B renice -11 "$settings";$B renice -11 "$netd";$B renice -11 "$netmgrd";$B renice -18 "$surfaceflinger";$B renice 1 "$swapd";$B renice 3 "$ksmd";$B renice -10 "$msmirq";$B renice -11 "$rild";$B renice -11 "$qril";$B renice -11 "$mtkril";$B renice -11 "$kgsl";$B renice -14 "$sui";$B renice -12 "$server";if [ -n "$RUS" ];then flog "~ ИИ: Оптимизированы системные процессы";else flog "~ AI: System processes optimized";fi;if [ -n "$RUS" ];then flog "~ ИИ: Обновление файловой системы для ускорения..";else flog "~ AI: Refreshing file system for speed-up..";fi;MSG=$($B ps|$B grep -E "com.android.msg"|$B awk '{print $1}'|$B sed -n 1p);$B killall "$MSG";$B fstrim -v /data;$B fstrim -v /system;$B fstrim -v /cache;$B fstrim -v /cust;$B fstrim -v /vendor;$B fstrim -v /product;$B fstrim -v /preload;$B sleep 21000;$B cat /fde.ai/s/ai.dat>/data/ai.dat;done;
